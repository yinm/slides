<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta name="theme-color" content="#3498db"><meta name="viewport" content="width=device-width,initial-scale=1"><title>20191108-gradual-installation-of-stylelint</title><meta property="og:title" content="20191108-gradual-installation-of-stylelint"><meta property="og:type" content="article"><meta property="og:url" content="https://yinm.github.io/slides/20191108-gradual-installation-of-stylelint"><meta property="og:image" content="https://avatars.githubusercontent.com/yinm?s=200&v=4"><meta property="og:site_name" content="yinm's slides"><link href="vendor.6.459632f08a63ade33c9f.css" rel="stylesheet"><link href="main.3.74e1da2e71c66a8ec771.css" rel="stylesheet"></head><body><div id="root"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="btn-sidebar" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg><article id="webslides"><section class="aligncenter title"><h1>漸進的Stylelint導入のすすめ</h1><br><p>@ 2019.11.08 ペパボテックフライデー(社内イベント)</p><p>see: <a href="https://tech.pepabo.com/2018/09/11/pepabo-tech-friday/">Pepabo Tech Friday 始まってます! - ペパボテックブログ</a></p></section><section class="aligncenter"><h1>About me</h1></section><section class="aligncenter fullscreen"><div class="card-50"><figure><img src="9a57f767cfb679fabff747682cf186c1.webp"></figure><div class="flex-content"><h1>Yusuke Iinuma</h1><p>(@yinm)</p><br><ul class="profile-list"><li><strong>A Web Frontend Engineer</strong></li><li>Working at <strong>GMO Pepabo, Inc.</strong></li><li>A staff of <strong>Vue.js Japan User Group</strong></li></ul><div class="sns-list"><a href="https://github.com/yinm" target="_blank"><i class="fab fa-github"></i></a><a href="https://twitter.com/_yinm_" target="_blank"><i class="fab fa-twitter"></i></a><a href="https://yinm.info/" target="_blank"><i class="fas fa-home"></i></a></div></div></div></section><section class="aligncenter"><h2>おしながき</h2></section><section class="aligncenter agenda"><ul><li>発表のゴール</li><li>なぜ導入したいのか？</li><li>導入にあたっての障壁は？</li><li>漸進的なStylelint導入方法</li><li>まとめ</li></ul></section><section class="aligncenter agenda"><ul><li><strong>発表のゴール</strong></li><li>なぜ導入したいのか？</li><li>導入にあたっての障壁は？</li><li>漸進的なStylelint導入方法</li><li>まとめ</li></ul></section><section class="aligncenter"><h2>Stylelint未導入のまま、CSSのコード量が増えてきたプロジェクトで、</h2><h2>Stylelintを導入するぞ！という気持ちになってもらう</h2></section><section class="aligncenter"><h1>話すこと</h1><br><br><br><ul><li>Stylelintを導入するメリット</li><li>導入にあたって障壁になりそうなこと</li><li>漸進的導入の方法</li></ul></section><section class="aligncenter agenda"><ul><li>発表のゴール</li><li><strong>なぜ導入したいのか？</strong></li><li>導入にあたっての障壁は？</li><li>漸進的なStylelint導入方法</li><li>まとめ</li></ul></section><section class="aligncenter"><h1>他の言語の当たり前をCSSにも導入したい！</h1><h2>(e.g. ESLint, RuboCop)</h2></section><section class="aligncenter"><h1>具体的には</h1><br><br><br><ul><li>コードの書き方を均一化して読みやすくしたい</li><li>レビューでは、実現したいことに集中できるようにしたい<ul><li>「<code>.class</code>と<code>{</code>の間に、スペースが欲しいです」みたいな指摘<br>(レビュアーにもレビュイーにもつらい指摘)をしないでよくする</li></ul></li></ul></section><section class="aligncenter agenda"><ul><li>発表のゴール</li><li>なぜ導入したいのか？</li><li><strong>導入にあたっての障壁は？</strong></li><li>漸進的なStylelint導入方法</li><li>まとめ</li></ul></section><section class="aligncenter"><h1>既存のコードベースが大きいと、<br>修正対象が膨大になり、ビックバンリリースになりがち</h1></section><section class="aligncenter"><ul><li>開発からある程度経っているコードは、CSSが適用されている範囲が広くなっている</li><li>そこにStylelintを適用すると、diffが膨大になってしまう</li><li>→ ビッグバンリリースに 💣</li></ul></section><section class="aligncenter agenda"><ul><li>発表のゴール</li><li>なぜ導入したいのか？</li><li>導入にあたっての障壁は？</li><li><strong>漸進的なStylelint導入方法</strong></li><li>まとめ</li></ul></section><section class="aligncenter"><h1>行うこと</h1><br><br><br><ul><li>1) Stylelintを理想的な状態にする</li><li>2) <code>.stylelintignore</code>でLint対象を制御する</li></ul></section><section class="aligncenter"><h2>1) Stylelintを理想的な状態にする</h2><br><br><br><ul><li>今回紹介する方法では、後からルールを追加には対応できない</li><li>→ 最初に開発メンバーがいいと思えるルールを設定する</li></ul></section><section class="aligncenter"><h2>どうやって？</h2><br><br><br><ul><li>今のチームでは、<a href="https://maximgatilin.github.io/stylelint-config/">ツール</a>を使って開発するメンバーみんなで決めた</li><li><a href="https://github.com/stylelint/stylelint#extend-a-shared-configuration">公式でおすすめされている設定</a>を使うのも良さそう</li></ul></section><section class="aligncenter"><h2>2) <a href="https://stylelint.io/user-guide/configuration#stylelintignore">.stylelintignore</a>でLint対象を制御する</h2><br><br><br><ul><li>まず、<code>.stylelintignore</code>で自分のCSSコードをすべてLint対象外にする</li><li>CI環境で、Stylelintを実行できるようにする</li><li>あとは以下を繰り返す(上記の<code>.stylelintignore</code>の設定がなくなるまで)<ul><li><code>.stylelintignore</code>の内容を編集して、Lint対象を制御する</li><li>Stylelintを実行した場合に、適用したいファイルでエラーが出ていることを確認</li><li>Stylelintが通るように直す</li><li>マージする</li></ul></li></ul></section><section class="aligncenter"><h2>徐々に適用範囲を広げていけるので、<br>ビッグバンリリースを避けつつ、Stylelintを導入していける 🎊</h2><h3>(実績として、担当サービスでも1つのリポジトリに導入が完了した)</h3></section><section class="aligncenter agenda"><ul><li>発表のゴール</li><li>なぜ導入したいのか？</li><li>導入にあたっての障壁は？</li><li>漸進的なStylelint導入方法</li><li><strong>まとめ</strong></li></ul></section><section class="aligncenter"><ul><li>なぜStylelintを導入したいのか？導入にあたっての障壁？になる部分の紹介</li><li>漸進的にStylelintを導入する方法<ul><li>1) Stylelintを理想的な状態にする</li><li>2) <code>.stylelintignore</code>でLint対象を制御する</li></ul></li><li>今回はStylelintの例だが、ESLintなど同等の機構があるものなら、同じことができそう</li></ul></section></article></div><script type="text/javascript" src="runtime.97aa9cc8c77a5531c383.bundle.js"></script><script type="text/javascript" src="vendor.6.459632f08a63ade33c9f.bundle.js"></script><script type="text/javascript" src="main.3.74e1da2e71c66a8ec771.bundle.js"></script></body></html>