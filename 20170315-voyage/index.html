<html>
<head>
  <link rel="stylesheet" href="./dist/talkie.min.css">
  <link rel="stylesheet" href="./dist/talkie-default.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/monokai_sublime.min.css">
</head>
<body>

<script layout="cover" invert type="text/x-markdown"
  backface="image/20111104024654_blue_matrix_Gallery.jpg" backface-filter="brightness(.4)">
## tmux.confと仲良くなりたい

2017.03.15 [yinm](https://github.com/yinm)
</script>

<script layout type="text/x-markdown">
## 自己紹介

<img src="./image/logo.png" alt="yinm" width="200" height="200">

* yinm
* Web Application Engineer
</script>

<script layout type="text/x-markdown">
## 突然ですが
## こんなことありませんか？
</script>

<script layout type="text/x-markdown">
## ネットで見つけた、
## tmux.confの設定を
## 自分のtmux.confに書く
</script>

<script layout invert type="text/x-markdown"
  backface="image/man1.jpg" backface-filter="blur(2px) brightness(.7)">
# 快適！！！！！
</script>

<script layout invert type="text/x-markdown"
  backface="image/man2.jpg" backface-filter="blur(2px) brightness(.6)">
# ところで、
# これ何書いてるの？
</script>

<script layout type="text/x-markdown">
# 調べてみる...
</script>

<script layout type="text/x-markdown">
## 思ってたより、
# 記法についての
# ドキュメントがない！
</script>

<script layout type="text/x-markdown">
# そこで、
# この発表のゴール
</script>

<script layout type="text/x-markdown">
## tmux.confの設定を
## 読めるようになろう！！！
</script>

<script layout type="text/x-markdown">
# ~ 目次 ~
### tmuxとは？
### tmux.confの設定方法
### まとめ
</script>

<script layout type="text/x-markdown">
# tmuxとは？
</script>

<script layout type="text/x-markdown">
### ターミナルマルチプレクサ
### クライアント/サーバーモデルで動作する
### 類似のツールとして、GNU screenなど
</script>

<script layout type="text/x-markdown">
# tmux.confの設定方法
</script>

<script layout type="text/x-markdown">
## 事前知識
* `$HOME/.tmux.conf` に記述する
* コメントは、`#`から始める
* 設定は、セッションを新しくしないと反映されない
* (セッションのリロードを、キーバインドしておくと便利)
</script>

<script layout type="text/x-markdown">
## tmux.confで設定できるもの
### オプション 
### キーバインド
</script>

<script layout type="text/x-markdown">
# オプション
</script>

<script layout type="text/x-markdown">
### オプションの分類が、3種類ある
### 分類によって、記述方法が異なるので注意

* sever options - サーバーの設定 (`set -s`で設定)
* session options - セッションごとの設定 (`set`で設定)
* window options - ウィンドウごとの設定 (`setw`で設定)
</script>

<script layout type="text/x-markdown">
### sever/session options の設定方法
### `set [-sg] オプション名 オプションの値`
* setは、 `set-option` のエイリアス
</script>

<script layout type="text/x-markdown">
## sever/session options 
## の設定例
</script>

<script layout="code" type="text/x-markdown">
## -s オプション
### sever optionsの設定する

```tmux.conf
# ESCキーの効きを良くする
set -s escape-time 0
```
</script>

<script layout="code" type="text/x-markdown">
## -g オプション
### session optionsを定義する時は、<br>基本的に記述する

```tmux.conf
# ウィンドウとペインの番号を1から開始する（デフォルトは、0）
set -g base-index 1
```
</script>

<script layout type="text/x-markdown">
### window options の設定方法
### `setw [-g] オプション名 オプションの値`
* setwは、`set-option-window` のエイリアス
* setのwindow-option専用版
</script>

<script layout type="text/x-markdown">
## window options 
## の設定例
</script>

<script layout="code" type="text/x-markdown">
## -g オプション
### window optionsを定義する時は、<br>基本的に記述する

```tmux.conf
# Vi キーバインド
setw -g mode-keys vi
```
</script>

<script layout type="text/x-markdown">
## オプションを確認するには？
* sever options → `tmux show -s`
* session options, window options → `tmux show -g`
</script>

<script layout type="text/x-markdown">
# キーバインド
</script>

<script layout type="text/x-markdown">
## 事前知識
### キーテーブル<br>(特定のモード時のキーバインドを変更できる) 
* vi-edit
* vi-choice
* vi-copy
* emacs-edit
* emacs-choice
* emacs-copy
</script>

<script layout type="text/x-markdown">
### キーバインドの追加
### `bind [-nr] [-t キーテーブル] キー コマンド`
* bind は、`bind-key` のエイリアス
* 割り当てたいキーには、prefixキーに続くキーのみを設定する
</script>

<script layout type="text/x-markdown">
## キーバインドの追加例
</script>

<script layout="code" type="text/x-markdown">
## キーが複合キーの場合
### Controlキーとの複合キーの場合`C-` 
### Shiftキーとの複合キーの場合　`S-` 
### Optionキーとの複合キーの場合 `M-` 

```tmux.conf
# C-t*2で、tmux内のプログラムにC-tを送る
bind C-t send-prefix
```
</script>

<script layout="code" type="text/x-markdown">
## -n オプション
### prefixキーなしで、キーバインドできる

```tmux.conf
# Shift + 上下左右でペインを移動できるようにする
bind -n S-left select-pane -L
bind -n S-down select-pane -D
bind -n S-up select-pane -U
bind -n S-right select-pane -R
```
</script>

<script layout="code" type="text/x-markdown">
## -r オプション
### 2回目以降の操作で、<br>prefixキーの入力が不要になる (連打用途)

```tmux.conf
# Prefix + JKHLで、ペインのサイズに変更(連打可能)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
```
</script>

<script layout="code" type="text/x-markdown">
## -t キーテーブル
### 特定のキーテーブルのキーバインドを設定する

```tmux.conf
# vi-copyのキーテーブルの場合、Escキーでコピーの反転を解除
bind -t vi-copy Escape clear-selection
```
</script>

<script layout type="text/x-markdown">
### キーバインドの削除
### `unbind-key [-n] [-t キーテーブル] キー`
* unbind は、`unbind-key` のエイリアス
* bindのキーバインド削除版
</script>

<script layout type="text/x-markdown">
## キーバインドの削除例
</script>

<script layout="code" type="text/x-markdown">
### 基本的な使い方

```tmux.conf
# C-bのキーバインドを解除する
unbind C-b
```
</script>

<script layout type="text/x-markdown">
## キーバインドを確認するには？
* 標準出力する場合 → `tmux list-keys`
* manみたいな画面で表示する場合 → `<prefix> + ?`
</script>

<script layout type="text/x-markdown">
## まとめ
* オプションとキーバインドがわかれば、
* tmux.confの設定が (だいたい) 読めるはず。
* 後は、いい感じの設定を取り込んでいきながら、
* tmux.confを育てていきましょう！
</script>

<script layout type="text/x-markdown">
# おまけ
</script>

<script layout type="text/x-markdown">
## 参考になりそうな設定
* [達人に学ぶ.tmux.confの基本設定](http://qiita.com/succi0303/items/cb396704493476373edf)
* [ターミナルマルチプレクサ tmux をカスタマイズする](http://qiita.com/b4b4r07/items/01359e8a3066d1c37edc)
* [tmuxのおすすめ設定](http://qiita.com/catatsuy/items/db0a471bf1eabaa21c36)
* [@yinmのtmux.conf](https://github.com/yinm/dotfiles/blob/master/.tmux.conf)
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script src="./dist/talkie.min.js"></script>
<script>Talkie();</script>
</body>
</html>
